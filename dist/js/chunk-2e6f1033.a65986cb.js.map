{"version":3,"sources":["webpack:///./src/pages/classic/Classic.vue?a220","webpack:///./src/pages/classic/Classic.vue?2b72","webpack:///./src/components/comp-classiccard.vue?8661","webpack:///src/components/comp-classiccard.vue","webpack:///./src/components/comp-classiccard.vue?83c9","webpack:///./src/components/comp-classiccard.vue","webpack:///src/pages/classic/Classic.vue","webpack:///./src/pages/classic/Classic.vue?d259","webpack:///./src/pages/classic/Classic.vue","webpack:///./src/components/comp-classiccard.vue?eb78"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","_l","item","key","movieId","attrs","_v","_s","moreTip","staticRenderFns","citem","poster","movieInfo","title","englishTitle","actors","showInfo","domProps","score","component","data","limit","offset","classicMovieList","isMore","components","CompClassiccard","methods","getClassicMovie","axios","getMoreClassic","handleScroll","$nextTick","setTimeout","ch","st","sh","created","mounted","window","addEventListener","destroyed","removeEventListener"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,UAAUC,YAAY,eAAe,CAACP,EAAIQ,GAAIR,EAAoB,kBAAE,SAASS,GAAM,OAAOL,EAAG,mBAAmB,CAACM,IAAID,EAAKE,QAAQC,MAAM,CAAC,MAAQH,QAAUL,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAGb,EAAIc,GAAGd,EAAIe,aAAa,IACnUC,EAAkB,G,YCDlB,G,UAAS,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACG,YAAY,cAAcK,MAAM,CAAC,GAAK,cAAgBZ,EAAIiB,MAAMN,QAAU,MAAM,CAACP,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMZ,EAAIiB,MAAMC,OAAO,IAAM,QAAQd,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACG,YAAY,SAAS,CAACP,EAAIa,GAAGb,EAAIc,GAAGd,EAAIiB,MAAME,UAAUC,UAAUhB,EAAG,MAAM,CAACG,YAAY,WAAW,CAACP,EAAIa,GAAGb,EAAIc,GAAGd,EAAIiB,MAAME,UAAUE,iBAAiBjB,EAAG,MAAM,CAACG,YAAY,OAAO,CAACP,EAAIa,GAAGb,EAAIc,GAAGd,EAAIiB,MAAME,UAAUG,WAAWlB,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACP,EAAIa,GAAGb,EAAIc,GAAGd,EAAIiB,MAAME,UAAUI,eAAenB,EAAG,MAAM,CAACG,YAAY,QAAQiB,SAAS,CAAC,UAAYxB,EAAIc,GAAGd,EAAIyB,cAChrB,EAAkB,GCetB,GACE,KADF,WAEI,MAAJ,CACM,MAAN,IAGE,QANF,WAOI,KAAJ,uBACI,KAAJ,6DAEE,MAAF,WC1B0V,I,wBCQtVC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCNf,GACEC,KADF,WAEI,MAAO,CACLC,MAAO,GACPC,OAAQ,EACRC,iBAAkB,GAClBf,QAAS,SACTgB,QAAQ,IAGZC,WAAY,CACVC,gBAAJ,GAEEC,QAAS,CAEPC,gBAFJ,WAEA,WACMC,MACN,8BACQ,OAAR,CACU,OAAV,EACU,SAAV,EACU,OAAV,YACU,MAAV,cAGA,kBACA,gBACU,EAAV,6BAKIC,eAnBJ,WAmBA,WACUpC,KAAK8B,SACP9B,KAAK8B,QAAS,EACdK,MACR,8BACU,OAAV,CACY,OAAZ,EACY,SAAZ,EACY,OAAZ,YACY,MAAZ,cAGA,kBACA,gBACY,EAAZ,UACY,EAAZ,0CACA,oBADA,eAEA,eAOIE,aA3CJ,WA2CA,WACMrC,KAAKsC,WAAU,WACb,GAAI,EAAZ,eACU,IAAV,+BACA,4BACA,+BACUC,YAAW,WACLC,EAAKC,GAAMC,IACP,EAApB,gCAIgB,EAAhB,0BAHgB,EAAhB,WACgB,EAAhB,qBAKA,WAKEC,QA5EF,WA6EI3C,KAAKkC,mBAEPU,QAAS,WACPC,OAAOC,iBAAiB,SAAU9C,KAAKqC,cAAc,IAEvDU,UAAW,WACTF,OAAOG,oBAAoB,SAAUhD,KAAKqC,gBChGkT,ICQ5V,G,UAAY,eACd,EACAvC,EACAiB,GACA,EACA,KACA,WACA,OAIa,e,yFCnBf","file":"js/chunk-2e6f1033.a65986cb.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classic.vue?vue&type=style&index=0&id=3179307f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"classic\",staticClass:\"classicList\"},[_vm._l((_vm.classicMovieList),function(item){return _c('comp-classiccard',{key:item.movieId,attrs:{\"citem\":item}})}),_c('div',{staticClass:\"more\"},[_vm._v(_vm._s(_vm.moreTip))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-link',{staticClass:\"classicItem\",attrs:{\"to\":'/movieinfo/' + _vm.citem.movieId + '/'}},[_c('div',{staticClass:\"imgBox\"},[_c('img',{attrs:{\"src\":_vm.citem.poster,\"alt\":\"\"}})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.citem.movieInfo.title))]),_c('div',{staticClass:\"e_title\"},[_vm._v(_vm._s(_vm.citem.movieInfo.englishTitle))]),_c('div',{staticClass:\"tip\"},[_vm._v(_vm._s(_vm.citem.movieInfo.actors))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.citem.movieInfo.showInfo))])]),_c('div',{staticClass:\"score\",domProps:{\"innerHTML\":_vm._s(_vm.score)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <router-link class=\"classicItem\" :to=\"'/movieinfo/' + citem.movieId + '/'\">\r\n    <div class=\"imgBox\">\r\n      <img :src=\"citem.poster\" alt=\"\" />\r\n    </div>\r\n    <div class=\"info\">\r\n      <div class=\"title\">{{ citem.movieInfo.title }}</div>\r\n      <div class=\"e_title\">{{ citem.movieInfo.englishTitle }}</div>\r\n      <div class=\"tip\">{{ citem.movieInfo.actors }}</div>\r\n      <div class=\"time\">{{ citem.movieInfo.showInfo }}</div>\r\n    </div>\r\n    <div class=\"score\" v-html=\"score\"></div>\r\n  </router-link>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            score: 0,\r\n        }\r\n    },\r\n    created(){\r\n        this.score = this.citem.score;\r\n        this.score = this.score == \"\" ? \"暂无评分\" : \"<span>\"+ this.score +\"</span> 分\";\r\n    },\r\n    props:['citem'],\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/common/variable.scss';\r\n.classicItem {\r\n  padding: 10px 0 10px 20px;\r\n  display: flex;\r\n  background-color: #FFF;\r\n}\r\n\r\n.imgBox {\r\n  width: 66px;\r\n  height: 94px;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n.info {\r\n  margin-left: 10px;\r\n  flex: 1;\r\n  overflow: hidden;\r\n\r\n  > div {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .title {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-top: 3px;\r\n  }\r\n\r\n  div:not(:first-child) {\r\n    color: #666;\r\n    font-size: 13px;\r\n    margin-top: 5px;\r\n  }\r\n}\r\n\r\n.score /deep/{\r\n  width: 60px;\r\n  font-size: 12px;\r\n  text-align: center;\r\n  color: #999;\r\n  span{\r\n      color: $color4;\r\n      font-size: 14px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-classiccard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-classiccard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comp-classiccard.vue?vue&type=template&id=69c11377&scoped=true&\"\nimport script from \"./comp-classiccard.vue?vue&type=script&lang=js&\"\nexport * from \"./comp-classiccard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comp-classiccard.vue?vue&type=style&index=0&id=69c11377&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69c11377\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"classicList\" ref=\"classic\">\r\n    <comp-classiccard\r\n      v-for=\"item in classicMovieList\"\r\n      :key=\"item.movieId\"\r\n      :citem=\"item\"\r\n    ></comp-classiccard>\r\n    <div class=\"more\">{{ moreTip }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CompClassiccard from \"@/components/comp-classiccard.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      limit: 10,\r\n      offset: 0,\r\n      classicMovieList: [],\r\n      moreTip: \"加载中...\",\r\n      isMore: true,\r\n    };\r\n  },\r\n  components: {\r\n    CompClassiccard,\r\n  },\r\n  methods: {\r\n    // 获取电影列表\r\n    getClassicMovie() {\r\n      axios\r\n        .get(\"/index/moreClassicList\", {\r\n          params: {\r\n            sortId: 1,\r\n            showType: 3,\r\n            offset: this.offset,\r\n            limit: this.limit,\r\n          },\r\n        })\r\n        .then((data) => {\r\n          if (data.status == 200) {\r\n            this.classicMovieList = data.data;\r\n          }\r\n        });\r\n    },\r\n    // 获取更多电影列表\r\n    getMoreClassic() {\r\n      if (this.isMore) {\r\n        this.isMore = false;\r\n        axios\r\n          .get(\"/index/moreClassicList\", {\r\n            params: {\r\n              sortId: 1,\r\n              showType: 3,\r\n              offset: this.offset,\r\n              limit: this.limit,\r\n            },\r\n          })\r\n          .then((data) => {\r\n            if (data.status == 200) {\r\n              this.isMore = true;\r\n              this.classicMovieList = [\r\n                ...this.classicMovieList,\r\n                ...data.data,\r\n              ];\r\n            }\r\n          });\r\n      }\r\n    },\r\n    // 拉到底部监听\r\n    handleScroll() {\r\n      this.$nextTick(() => {\r\n        if (this.$refs.classic) {\r\n          let ch = this.$refs.classic.clientHeight;\r\n          let st = this.$refs.classic.scrollTop;\r\n          let sh = this.$refs.classic.scrollHeight;\r\n          setTimeout(() => {\r\n            if (ch + st == sh) {\r\n              if (!(this.classicMovieList.length % this.limit)) {\r\n                this.offset += 10;\r\n                this.getMoreClassic();\r\n              } else {\r\n                this.moreTip = \"没有更多了/(ㄒoㄒ)/~~\";\r\n              }\r\n            }\r\n          }, 300);\r\n        }\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getClassicMovie();\r\n  },\r\n  mounted: function () {\r\n    window.addEventListener(\"scroll\", this.handleScroll, true);\r\n  },\r\n  destroyed: function () {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/common/variable.scss\";\r\n.classicList {\r\n  height: 100%;\r\n  overflow-y: auto;\r\n  background-color: $borderColor;\r\n\r\n  > div:first-child {\r\n    padding-top: 20px;\r\n  }\r\n\r\n  .more {\r\n    text-align: center;\r\n    padding: 10px 0;\r\n    margin-top: 10px;\r\n    background-color: #fff;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Classic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Classic.vue?vue&type=template&id=3179307f&scoped=true&\"\nimport script from \"./Classic.vue?vue&type=script&lang=js&\"\nexport * from \"./Classic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Classic.vue?vue&type=style&index=0&id=3179307f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3179307f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-classiccard.vue?vue&type=style&index=0&id=69c11377&lang=scss&scoped=true&\""],"sourceRoot":""}