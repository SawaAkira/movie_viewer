(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-002a6237"],{"04d1":function(t,r,i){var n=i("342f"),e=n.match(/firefox\/(\d+)/i);t.exports=!!e&&+e[1]},"0b42":function(t,r,i){var n=i("da84"),e=i("e8b5"),o=i("68ee"),a=i("861d"),c=i("b622"),s=c("species"),u=n.Array;t.exports=function(t){var r;return e(t)&&(r=t.constructor,o(r)&&(r===u||e(r.prototype))?r=void 0:a(r)&&(r=r[s],null===r&&(r=void 0))),void 0===r?u:r}},"159b":function(t,r,i){var n=i("da84"),e=i("fdbc"),o=i("785a"),a=i("17c2"),c=i("9112"),s=function(t){if(t&&t.forEach!==a)try{c(t,"forEach",a)}catch(r){t.forEach=a}};for(var u in e)e[u]&&s(n[u]&&n[u].prototype);s(o)},1787:function(t,r,i){"use strict";i("28f0")},"17c2":function(t,r,i){"use strict";var n=i("b727").forEach,e=i("a640"),o=e("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,r,i){var n=i("d039"),e=i("b622"),o=i("2d00"),a=e("species");t.exports=function(t){return o>=51||!n((function(){var r=[],i=r.constructor={};return i[a]=function(){return{foo:1}},1!==r[t](Boolean).foo}))}},"1ef5":function(t,r,i){"use strict";i.r(r);var n=function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("div",{staticClass:"cityListBox"},[t.isShow?t._e():i("div",{staticClass:"searchTip"},[i("span",[t._v(" 加载中...")])]),t.isShow?i("div",{staticClass:"cityList"},[i("div",{staticClass:"location"},[t._m(0),i("ol",[i("li",{on:{click:function(r){return t.localClick(t.localTip)}}},[t._v(" "+t._s(t.localTip)+" ")])])]),i("div",{staticClass:"history"},[t._m(1),i("ol",t._l(t.historyArr,(function(r){return i("li",{key:r.id,on:{click:function(i){return t.btnClick(r)}}},[t._v(" "+t._s(r.nm)+" ")])})),0)]),i("div",{staticClass:"hot"},[t._m(2),i("ol",t._l(t.hotArr,(function(r){return i("li",{key:r.id,on:{click:function(i){return t.btnClick(r)}}},[t._v(" "+t._s(r.nm)+" ")])})),0)]),i("div",{staticClass:"letter"},t._l(t.allCityarr,(function(r,n){return i("div",{key:n},[i("a",{attrs:{id:r}},[i("p",[t._v(t._s(r.toUpperCase()))])]),i("ul",t._l(t.allCityObj[r],(function(r){return i("li",{key:r.id,on:{click:function(i){return t.btnClick(r)}}},[t._v(" "+t._s(r.nm)+" ")])})),0)])})),0),i("div",{staticClass:"nav"},[i("span",{on:{click:function(r){return t.goto("#location")}}},[t._v("定位")]),i("span",{on:{click:function(r){return t.goto("#history")}}},[t._v("最近")]),i("span",{on:{click:function(r){return t.goto("#hot")}}},[t._v("热门")]),t._l(t.allCityarr,(function(r,n){return i("span",{key:n,staticClass:"letter",on:{click:function(i){return t.goto("#"+r)}}},[t._v(t._s(r.toUpperCase()))])}))],2)]):t._e()])},e=[function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("a",{attrs:{id:"location"}},[i("p",[t._v("定位城市")])])},function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("a",{attrs:{id:"history"}},[i("p",[t._v("最近访问城市")])])},function(){var t=this,r=t.$createElement,i=t._self._c||r;return i("a",{attrs:{id:"hot"}},[i("p",[t._v("热门城市")])])}],o=(i("d3b7"),i("159b"),i("fb6a"),i("4e82"),i("a434"),i("c740"),i("e9c4"),{data:function(){return{localTip:"正在获取定位",uesrCityObj:{},historyArr:[],hotArr:[],allCityarr:[],allCityObj:{},longitude:"",latitude:"",isShow:!1}},methods:{getCityList:function(){var t=this;axios.get("/cities.json").then((function(r){if(200==r.status){t.isShow=!0;var i=r.data.cts,n=r.data.hot;i.forEach((function(r){for(var i=0;i<n.length;i++)if(n[i]==r.nm){var e={};e.nm=n[i],e.id=r.id,e.py=r.py,t.hotArr.push(e)}var o=r.py.slice(0,1);t.allCityObj[o]||(t.allCityObj[o]=[],t.allCityarr.push(o)),r.py.slice(0,1)==o&&t.allCityObj[o].push(r)})),t.allCityarr.sort()}}))},goto:function(t){document.querySelector(t).scrollIntoView(!0)},btnClick:function(t){var r=this,i=0;this.historyArr.forEach((function(n,e){n.id==t.id?t.id!=r.historyArr[0].id&&(r.historyArr.splice(r.historyArr.findIndex((function(t){return t.id===r.historyArr[e].id})),1),r.historyArr.unshift(t)):i++})),i==this.historyArr.length&&this.historyArr.length>=3?(this.historyArr.pop(),this.historyArr.unshift(t)):i==this.historyArr.length&&this.historyArr.unshift(t),localStorage.setItem("historyCity",JSON.stringify(this.historyArr)),localStorage.setItem("localCity",JSON.stringify(t)),this.$router.back()},getLatLng:function(){var t=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(r){t.longitude=r.coords.longitude,t.latitude=r.coords.latitude}),(function(r){var i=["您拒绝共享位置信息","获取不到位置信息","获取位置信息超时","未知错误"];t.localTip=i[r.code-1]}))},getLocation:function(){var t=this;axios.get("/city/latlng",{params:{lat:this.latitude,lng:this.longitude}}).then((function(r){200==r.status&&(t.localTip=r.data.data.city,t.uesrCityObj.nm=r.data.data.city,t.uesrCityObj.py=r.data.data.cityPinyin,t.uesrCityObj.id=r.data.data.id)}))},localClick:function(t){"您拒绝共享位置信息"==t||"获取不到位置信息"==t||"获取位置信息超时"==t||"未知错误"==t?(this.localTip="正在获取定位",this.getLatLng()):"正在获取定位"!=t&&this.btnClick(this.uesrCityObj)}},created:function(){this.getCityList(),localStorage.getItem("historyCity")?this.historyArr=JSON.parse(localStorage.getItem("historyCity")):this.historyArr=this.historyArr,this.getLatLng()},watch:{longitude:function(){this.getLocation()}}}),a=o,c=(i("1787"),i("2877")),s=Object(c["a"])(a,n,e,!1,null,"3c7700b2",null);r["default"]=s.exports},"28f0":function(t,r,i){},"4dae":function(t,r,i){var n=i("da84"),e=i("23cb"),o=i("07fa"),a=i("8418"),c=n.Array,s=Math.max;t.exports=function(t,r,i){for(var n=o(t),u=e(r,n),f=e(void 0===i?n:i,n),l=c(s(f-u,0)),d=0;u<f;u++,d++)a(l,d,t[u]);return l.length=d,l}},"4e82":function(t,r,i){"use strict";var n=i("23e7"),e=i("e330"),o=i("59ed"),a=i("7b0b"),c=i("07fa"),s=i("577e"),u=i("d039"),f=i("addb"),l=i("a640"),d=i("04d1"),h=i("d998"),v=i("2d00"),y=i("512c"),p=[],g=e(p.sort),b=e(p.push),C=u((function(){p.sort(void 0)})),A=u((function(){p.sort(null)})),_=l("sort"),m=!u((function(){if(v)return v<70;if(!(d&&d>3)){if(h)return!0;if(y)return y<603;var t,r,i,n,e="";for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)p.push({k:r+n,v:i})}for(p.sort((function(t,r){return r.v-t.v})),n=0;n<p.length;n++)r=p[n].k.charAt(0),e.charAt(e.length-1)!==r&&(e+=r);return"DGBEFHACIJK"!==e}})),x=C||!A||!_||!m,k=function(t){return function(r,i){return void 0===i?-1:void 0===r?1:void 0!==t?+t(r,i)||0:s(r)>s(i)?1:-1}};n({target:"Array",proto:!0,forced:x},{sort:function(t){void 0!==t&&o(t);var r=a(this);if(m)return void 0===t?g(r):g(r,t);var i,n,e=[],s=c(r);for(n=0;n<s;n++)n in r&&b(e,r[n]);f(e,k(t)),i=e.length,n=0;while(n<i)r[n]=e[n++];while(n<s)delete r[n++];return r}})},"512c":function(t,r,i){var n=i("342f"),e=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!e&&+e[1]},"65f0":function(t,r,i){var n=i("0b42");t.exports=function(t,r){return new(n(t))(0===r?0:r)}},8418:function(t,r,i){"use strict";var n=i("a04b"),e=i("9bf2"),o=i("5c6c");t.exports=function(t,r,i){var a=n(r);a in t?e.f(t,a,o(0,i)):t[a]=i}},a434:function(t,r,i){"use strict";var n=i("23e7"),e=i("da84"),o=i("23cb"),a=i("5926"),c=i("07fa"),s=i("7b0b"),u=i("65f0"),f=i("8418"),l=i("1dde"),d=l("splice"),h=e.TypeError,v=Math.max,y=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,r){var i,n,e,l,d,b,C=s(this),A=c(C),_=o(t,A),m=arguments.length;if(0===m?i=n=0:1===m?(i=0,n=A-_):(i=m-2,n=y(v(a(r),0),A-_)),A+i-n>p)throw h(g);for(e=u(C,n),l=0;l<n;l++)d=_+l,d in C&&f(e,l,C[d]);if(e.length=n,i<n){for(l=_;l<A-n;l++)d=l+n,b=l+i,d in C?C[b]=C[d]:delete C[b];for(l=A;l>A-n+i;l--)delete C[l-1]}else if(i>n)for(l=A-n;l>_;l--)d=l+n-1,b=l+i-1,d in C?C[b]=C[d]:delete C[b];for(l=0;l<i;l++)C[l+_]=arguments[l+2];return C.length=A-n+i,e}})},a640:function(t,r,i){"use strict";var n=i("d039");t.exports=function(t,r){var i=[][t];return!!i&&n((function(){i.call(null,r||function(){throw 1},1)}))}},addb:function(t,r,i){var n=i("4dae"),e=Math.floor,o=function(t,r){var i=t.length,s=e(i/2);return i<8?a(t,r):c(t,o(n(t,0,s),r),o(n(t,s),r),r)},a=function(t,r){var i,n,e=t.length,o=1;while(o<e){n=o,i=t[o];while(n&&r(t[n-1],i)>0)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},c=function(t,r,i,n){var e=r.length,o=i.length,a=0,c=0;while(a<e||c<o)t[a+c]=a<e&&c<o?n(r[a],i[c])<=0?r[a++]:i[c++]:a<e?r[a++]:i[c++];return t};t.exports=o},b727:function(t,r,i){var n=i("0366"),e=i("e330"),o=i("44ad"),a=i("7b0b"),c=i("07fa"),s=i("65f0"),u=e([].push),f=function(t){var r=1==t,i=2==t,e=3==t,f=4==t,l=6==t,d=7==t,h=5==t||l;return function(v,y,p,g){for(var b,C,A=a(v),_=o(A),m=n(y,p),x=c(_),k=0,w=g||s,S=r?w(v,x):i||d?w(v,0):void 0;x>k;k++)if((h||k in _)&&(b=_[k],C=m(b,k,A),t))if(r)S[k]=C;else if(C)switch(t){case 3:return!0;case 5:return b;case 6:return k;case 2:u(S,b)}else switch(t){case 4:return!1;case 7:u(S,b)}return l?-1:e||f?f:S}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},c740:function(t,r,i){"use strict";var n=i("23e7"),e=i("b727").findIndex,o=i("44d2"),a="findIndex",c=!0;a in[]&&Array(1)[a]((function(){c=!1})),n({target:"Array",proto:!0,forced:c},{findIndex:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},d998:function(t,r,i){var n=i("342f");t.exports=/MSIE|Trident/.test(n)},e8b5:function(t,r,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e9c4:function(t,r,i){var n=i("23e7"),e=i("da84"),o=i("d066"),a=i("2ba4"),c=i("e330"),s=i("d039"),u=e.Array,f=o("JSON","stringify"),l=c(/./.exec),d=c("".charAt),h=c("".charCodeAt),v=c("".replace),y=c(1..toString),p=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,C=function(t,r,i){var n=d(i,r-1),e=d(i,r+1);return l(g,t)&&!l(b,e)||l(b,t)&&!l(g,n)?"\\u"+y(h(t,0),16):t},A=s((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")}));f&&n({target:"JSON",stat:!0,forced:A},{stringify:function(t,r,i){for(var n=0,e=arguments.length,o=u(e);n<e;n++)o[n]=arguments[n];var c=a(f,null,o);return"string"==typeof c?v(c,p,C):c}})},fb6a:function(t,r,i){"use strict";var n=i("23e7"),e=i("da84"),o=i("e8b5"),a=i("68ee"),c=i("861d"),s=i("23cb"),u=i("07fa"),f=i("fc6a"),l=i("8418"),d=i("b622"),h=i("1dde"),v=i("f36a"),y=h("slice"),p=d("species"),g=e.Array,b=Math.max;n({target:"Array",proto:!0,forced:!y},{slice:function(t,r){var i,n,e,d=f(this),h=u(d),y=s(t,h),C=s(void 0===r?h:r,h);if(o(d)&&(i=d.constructor,a(i)&&(i===g||o(i.prototype))?i=void 0:c(i)&&(i=i[p],null===i&&(i=void 0)),i===g||void 0===i))return v(d,y,C);for(n=new(void 0===i?g:i)(b(C-y,0)),e=0;y<C;y++,e++)y in d&&l(n,e,d[y]);return n.length=e,n}})}}]);
//# sourceMappingURL=chunk-002a6237.f07869f1.js.map