{"version":3,"sources":["webpack:///./src/pages/cinema/Cinema.vue?0bd0","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/pages/cinema/Cinema.vue?dd4a","webpack:///./src/components/comp-cinemanav.vue?7e65","webpack:///src/components/comp-cinemanav.vue","webpack:///./src/components/comp-cinemanav.vue?b4eb","webpack:///./src/components/comp-cinemanav.vue","webpack:///./src/components/comp-cinemacard.vue?6192","webpack:///src/components/comp-cinemacard.vue","webpack:///./src/components/comp-cinemacard.vue?0f85","webpack:///./src/components/comp-cinemacard.vue","webpack:///src/pages/cinema/Cinema.vue","webpack:///./src/pages/cinema/Cinema.vue?ef48","webpack:///./src/pages/cinema/Cinema.vue","webpack:///./src/components/comp-cinemacard.vue?a045","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/components/comp-cinemanav.vue?f0c2"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","cityId","on","getChildData","_l","item","key","cinemaId","nativeOn","$event","toCinemaPage","_e","moreTip","_v","staticRenderFns","index","class","addActive","_s","title","iClass","page","active","tabIndex","id","tabAcitve","tabAcitveClick","name","count","tab2Acitve","tab2AcitveClick","navArr","districtName","brandId","dataProcessing","maskClick","service","serviceId","hallType","hallTypeId","tab4Acitve","tab5Acitve","data","isMask","district","subway","totalShow","subItems","brand","districtId","areaId","lineId","stationId","pdistrictId","plineId","props","methods","i","getTotalData","$emit","axios","t1","t2","watch","val","created","component","citem","price","n","q","location","distance","services","code","text","discount","limit","offset","day","cinemaList","isMore","isLoadingShow","isShow","components","CompCinemanav","CompCinemacard","CompLoadinganimate","getLocalCinema","getMoreCinema","params","updateShowDay","status","handleScroll","$nextTick","setTimeout","ch","st","sh","obj","getDate","date","getFullYear","$router","push","JSON","parse","localStorage","getItem","mounted","window","addEventListener","destroyed","removeEventListener","fails","METHOD_NAME","argument","method","call"],"mappings":"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","file":"js/chunk-46835995.43e4575a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cinema.vue?vue&type=style&index=0&id=354b62c9&lang=scss&scoped=true&\"","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"cinema\",staticClass:\"cinema\"},[_c('comp-cinemanav',{attrs:{\"cid\":_vm.cityId},on:{\"get-data\":_vm.getChildData}}),(_vm.isShow)?_c('div',{staticClass:\"cinemaList\"},[_vm._l((_vm.cinemaList),function(item){return _c('comp-cinemacard',{key:item.cinemaId,attrs:{\"citem\":item},nativeOn:{\"click\":function($event){return _vm.toCinemaPage(item.cinemaId)}}})}),_c('div',{staticClass:\"more\"},[(_vm.moreTip)?_c('comp-loadinganimate',{attrs:{\"wah\":50}}):_vm._e(),(!_vm.moreTip)?_c('span',[_vm._v(\"没有更多了/(ㄒoㄒ)/~~\")]):_vm._e()],1)],2):_vm._e(),(_vm.isLoadingShow)?_c('div',{staticClass:\"loadingBox\"},[_c('comp-loadinganimate',{attrs:{\"wah\":80}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navBox\"},[_c('div',{staticClass:\"navBg\"},[_c('div',{staticClass:\"cinemaNav\"},_vm._l((_vm.navArr),function(item,index){return _c('div',{key:index,class:item.class,on:{\"click\":function($event){return _vm.addActive(index)}}},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('i',{staticClass:\"bi\",class:item.iClass})])}),0),(_vm.page)?_c('div',{staticClass:\"content\"},[(_vm.page == 1)?_c('div',{staticClass:\"total\"},[_c('div',{staticClass:\"tabNav\"},[_c('div',{class:{ active: _vm.tabIndex == 0 },on:{\"click\":function($event){_vm.tabIndex = 0}}},[_vm._v(\" 商区 \")]),_c('div',{class:{ active: _vm.tabIndex == 1 },on:{\"click\":function($event){_vm.tabIndex = 1}}},[_vm._v(\" 地铁站 \")])]),_c('div',{staticClass:\"tabBody\"},[_c('div',{staticClass:\"tabLiftBox\"},[_c('ul',{staticClass:\"tabLiftList\"},_vm._l((_vm.totalShow),function(item,index){return _c('li',{key:item.id,class:{ active: _vm.tabAcitve == index },on:{\"click\":function($event){_vm.tabAcitveClick(index);\n                  _vm.tabAcitve = index;}}},[_vm._v(\" \"+_vm._s(item.name)+\"(\"+_vm._s(item.count)+\") \")])}),0)]),_c('div',{staticClass:\"tabRightBox\"},[_c('ul',{staticClass:\"tabRightList\"},_vm._l((_vm.subItems),function(item){return _c('li',{key:item.id,class:{ active: _vm.tab2Acitve == item.id },on:{\"click\":function($event){_vm.tab2AcitveClick(item.id);\n                  _vm.tab2Acitve = item.id;\n                  _vm.navArr[0].title = item.id == -1 ? _vm.districtName : item.name;}}},[_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.count))])])}),0)])])]):_vm._e(),(_vm.page == 2)?_c('div',{staticClass:\"brand\"},[_c('div',{staticClass:\"brandList\"},_vm._l((_vm.brand),function(item){return _c('div',{key:item.id,staticClass:\"brandItem\",class:{ active: _vm.brandId == item.id },on:{\"click\":function($event){_vm.brandId = item.id;\n              _vm.navArr[1].title = item.id == -1 ? '品牌' : item.name;\n              _vm.dataProcessing();\n              _vm.maskClick();}}},[_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.count))])])}),0)]):_vm._e(),(_vm.page == 3)?_c('div',{staticClass:\"feature\"},[_c('div',{staticClass:\"featureBox\"},[(_vm.service.length)?_c('div',{staticClass:\"fun\"},[_c('h3',[_vm._v(\"特色功能\")]),_c('ul',{staticClass:\"splist\"},_vm._l((_vm.service),function(item){return _c('li',{key:item.id,class:{ active: _vm.serviceId == item.id },on:{\"click\":function($event){_vm.serviceId = item.id;}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]):_vm._e(),(_vm.hallType.length)?_c('div',{staticClass:\"hall\"},[_c('h3',[_vm._v(\"特殊厅\")]),_c('ul',{staticClass:\"splist\"},_vm._l((_vm.hallType),function(item){return _c('li',{key:item.id,class:{ active: _vm.hallTypeId == item.id },on:{\"click\":function($event){_vm.hallTypeId = item.id;}}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),0)]):_vm._e()]),_c('div',{staticClass:\"btnBox\"},[_c('div',{staticClass:\"reset\",on:{\"click\":function($event){_vm.hallTypeId = _vm.serviceId = _vm.tab4Acitve = _vm.tab5Acitve = -1;}}},[_vm._v(\"重置\")]),_c('div',{staticClass:\"confirm\",on:{\"click\":function($event){_vm.dataProcessing();_vm.maskClick();}}},[_vm._v(\"确定\")])])]):_vm._e()]):_vm._e()]),(_vm.isMask)?_c('div',{staticClass:\"mask\",on:{\"click\":_vm.maskClick}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"navBox\">\r\n    <div class=\"navBg\">\r\n      <div class=\"cinemaNav\">\r\n        <div\r\n          v-for=\"(item, index) in navArr\"\r\n          :key=\"index\"\r\n          :class=\"item.class\"\r\n          @click=\"addActive(index)\"\r\n        >\r\n          <span class=\"title\">{{ item.title }}</span>\r\n          <i class=\"bi\" :class=\"item.iClass\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"content\" v-if=\"page\">\r\n        <div class=\"total\" v-if=\"page == 1\">\r\n          <div class=\"tabNav\">\r\n            <div @click=\"tabIndex = 0\" :class=\"{ active: tabIndex == 0 }\">\r\n              商区\r\n            </div>\r\n            <div @click=\"tabIndex = 1\" :class=\"{ active: tabIndex == 1 }\">\r\n              地铁站\r\n            </div>\r\n          </div>\r\n          <div class=\"tabBody\">\r\n            <div class=\"tabLiftBox\">\r\n              <ul class=\"tabLiftList\">\r\n                <li\r\n                  v-for=\"(item, index) in totalShow\"\r\n                  :key=\"item.id\"\r\n                  @click=\"\r\n                    tabAcitveClick(index);\r\n                    tabAcitve = index;\r\n                  \"\r\n                  :class=\"{ active: tabAcitve == index }\"\r\n                >\r\n                  {{ item.name }}({{ item.count }})\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"tabRightBox\">\r\n              <ul class=\"tabRightList\">\r\n                <li\r\n                  v-for=\"item in subItems\"\r\n                  :key=\"item.id\"\r\n                  @click=\"\r\n                    tab2AcitveClick(item.id);\r\n                    tab2Acitve = item.id;\r\n                    navArr[0].title = item.id == -1 ? districtName : item.name;\r\n                  \"\r\n                  :class=\"{ active: tab2Acitve == item.id }\"\r\n                >\r\n                  <span>{{ item.name }}</span\r\n                  ><span>{{ item.count }}</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"brand\" v-if=\"page == 2\">\r\n          <div class=\"brandList\">\r\n            <div\r\n              class=\"brandItem\"\r\n              v-for=\"item in brand\"\r\n              :key=\"item.id\"\r\n              @click=\"\r\n                brandId = item.id;\r\n                navArr[1].title = item.id == -1 ? '品牌' : item.name;\r\n                dataProcessing();\r\n                maskClick();\r\n              \"\r\n              :class=\"{ active: brandId == item.id }\"\r\n            >\r\n              <span>{{ item.name }}</span\r\n              ><span>{{ item.count }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"feature\" v-if=\"page == 3\">\r\n          <div class=\"featureBox\">\r\n            <div class=\"fun\" v-if=\"service.length\">\r\n              <h3>特色功能</h3>\r\n              <ul class=\"splist\">\r\n                <li\r\n                  v-for=\"item in service\"\r\n                  :key=\"item.id\"\r\n                  @click=\"\r\n                    serviceId = item.id;\r\n                  \"\r\n                  :class=\"{ active: serviceId == item.id }\"\r\n                >\r\n                  {{ item.name }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"hall\" v-if=\"hallType.length\">\r\n              <h3>特殊厅</h3>\r\n              <ul class=\"splist\">\r\n                <li\r\n                  v-for=\"item in hallType\"\r\n                  :key=\"item.id\"\r\n                  @click=\"\r\n                    hallTypeId = item.id;\r\n                  \"\r\n                  :class=\"{ active: hallTypeId == item.id }\"\r\n                >\r\n                  {{ item.name }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div class=\"btnBox\">\r\n            <div class=\"reset\" @click=\"hallTypeId = serviceId = tab4Acitve = tab5Acitve = -1;\">重置</div>\r\n            <div class=\"confirm\" @click=\"dataProcessing();maskClick();\">确定</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"mask\" v-if=\"isMask\" @click=\"maskClick\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      navArr: [\r\n        { title: \"全城\", iClass: \"bi-caret-down-fill\", class: \"\" },\r\n        { title: \"品牌\", iClass: \"bi-caret-down-fill\", class: \"\" },\r\n        { title: \"特色\", iClass: \"bi-caret-down-fill\", class: \"\" },\r\n      ],\r\n      isMask: false,\r\n      page: 0,\r\n      tabIndex: 0,\r\n      cityId: 1,\r\n      tabAcitve: 0,\r\n      tab2Acitve: -1,\r\n      districtName: \"\",\r\n\r\n      district: [],\r\n      subway: [],\r\n      totalShow: [],\r\n      subItems: [],\r\n      brand: [],\r\n      service: [],\r\n      hallType: [],\r\n\r\n      hallTypeId: -1, // 影厅类型\r\n      brandId: -1, // 品牌\r\n      serviceId: -1, // 影院服务\r\n      districtId: -1, // 行政区\r\n      areaId: -1, // 行政区二级地区\r\n      lineId: -1, // 地铁线路\r\n      stationId: -1, // 地铁车站\r\n\r\n      pdistrictId: -1,\r\n      plineId: -1,\r\n    };\r\n  },\r\n  props: [\"cid\"],\r\n  methods: {\r\n    // 点击影院导航\r\n    addActive(i) {\r\n      if (this.navArr[i].class == \"active\") {\r\n        this.navArr[i].class = \"\";\r\n        this.navArr[i].iClass = \"bi-caret-down-fill\";\r\n        this.isMask = false;\r\n        this.page = 0;\r\n        this.tabIndex = 0;\r\n      } else {\r\n        this.navArr.forEach((item) => {\r\n          item.class = \"\";\r\n          item.iClass = \"bi-caret-down-fill\";\r\n          this.page = 0;\r\n          this.tabIndex = 0;\r\n        });\r\n        this.navArr[i].class = \"active\";\r\n        this.navArr[i].iClass = \"bi-caret-up-fill\";\r\n        this.isMask = true;\r\n        this.page = i + 1;\r\n        if (this.totalShow.length == 0) {\r\n          this.getTotalData();\r\n        }\r\n      }\r\n    },\r\n    // 点击遮罩层\r\n    maskClick() {\r\n      this.navArr.forEach((item) => {\r\n        item.class = \"\";\r\n        item.iClass = \"bi-caret-down-fill\";\r\n      });\r\n      this.isMask = false;\r\n      this.page = 0;\r\n      this.tabIndex = 0;\r\n    },\r\n\r\n    // 处理筛选数据\r\n    dataProcessing() {\r\n      this.$emit(\"get-data\", {\r\n        districtId: this.districtId,\r\n        lineId: this.lineId,\r\n        stationId: this.stationId,\r\n        hallType: this.hallTypeId,\r\n        brandId: this.brandId,\r\n        serviceId: this.serviceId,\r\n        areaId: this.areaId,\r\n      });\r\n    },\r\n\r\n    // 获取全城数据\r\n    getTotalData() {\r\n      axios\r\n        .get(\"/index/filterCinemas\", { params: { ci: this.cid } })\r\n        .then((data) => {\r\n          if (data.status == 200) {\r\n            this.totalShow = data.data.district.subItems;\r\n            this.district = data.data.district.subItems;\r\n            this.subway = data.data.subway.subItems;\r\n\r\n            this.brand = data.data.brand.subItems;\r\n\r\n            this.service = data.data.service.subItems;\r\n            this.hallType = data.data.hallType.subItems;\r\n          }\r\n        });\r\n    },\r\n\r\n    // 全城\r\n    // 点击一级筛选\r\n    tabAcitveClick(t1) {\r\n      if (t1 == 0) {\r\n        this.lineId = -1;\r\n        this.districtId = -1;\r\n        this.stationId = -1;\r\n        this.areaId = -1;\r\n        this.tab2Acitve = -1;\r\n        this.navArr[0].title = \"全城\";\r\n        this.dataProcessing();\r\n        this.maskClick();\r\n      } else {\r\n        this.districtName = this.totalShow[t1].name;\r\n        this.subItems = this.totalShow[t1].subItems;\r\n        if (this.tabIndex == 0) {\r\n          this.pdistrictId = this.totalShow[t1].id;\r\n          this.lineId = -1;\r\n        } else {\r\n          this.plineId = this.totalShow[t1].id;\r\n          this.districtId = -1;\r\n        }\r\n      }\r\n    },\r\n    // 点击二级筛选\r\n    tab2AcitveClick(t2) {\r\n      if (this.tabIndex == 0) {\r\n        this.areaId = t2;\r\n        this.stationId = -1;\r\n        this.districtId = this.pdistrictId;\r\n      } else {\r\n        this.stationId = t2;\r\n        this.areaId = -1;\r\n        this.lineId = this.plineId;\r\n      }\r\n      this.dataProcessing();\r\n      this.maskClick();\r\n    },\r\n  },\r\n  watch: {\r\n    tabIndex(val) {\r\n      if (val) {\r\n        this.totalShow = this.subway;\r\n        this.tabAcitve = 0;\r\n        this.tab2Acitve = -1;\r\n        this.subItems = this.totalShow[0].subItems;\r\n      } else {\r\n        this.totalShow = this.district;\r\n        this.tabAcitve = 0;\r\n        this.tab2Acitve = -1;\r\n        this.subItems = this.totalShow[0].subItems;\r\n      }\r\n    },\r\n  },\r\n  created(){\r\n    this.getTotalData();\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/common/variable.scss\";\r\n.navBox {\r\n  position: relative;\r\n  z-index: 101;\r\n}\r\n.navBg {\r\n  position: relative;\r\n  z-index: 102;\r\n  width: 100%;\r\n  background-color: #fff;\r\n}\r\n.cinemaNav {\r\n  position: relative;\r\n  z-index: 103;\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: #777;\r\n  margin: 0 20px;\r\n  box-sizing: border-box;\r\n  border-bottom: 1px solid $borderColor;\r\n\r\n  > div {\r\n    flex: 1;\r\n    text-align: center;\r\n    padding: 10px 0;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  > div:not(:last-child)::after {\r\n    content: \"|\";\r\n    position: absolute;\r\n    right: -2px;\r\n    color: $borderColor;\r\n  }\r\n\r\n  i {\r\n    font-size: 12px;\r\n    margin-left: 5px;\r\n    color: #ccc;\r\n  }\r\n\r\n  .active {\r\n    color: $color;\r\n\r\n    i {\r\n      color: $color;\r\n    }\r\n  }\r\n\r\n  .title {\r\n    display: inline-block;\r\n    max-width: 90px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n\r\n.content {\r\n  width: 100%;\r\n  height: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 39px;\r\n  z-index: 101;\r\n}\r\n\r\n.mask {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  background-color: rgba($color: #000000, $alpha: 0.5);\r\n  z-index: 100;\r\n}\r\n\r\n.total {\r\n  background-color: #f5f5f5;\r\n  .tabNav {\r\n    display: flex;\r\n    background-color: #fff;\r\n\r\n    > div {\r\n      flex: 1;\r\n      text-align: center;\r\n      padding: 10px 0;\r\n      font-size: 15px;\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    .active {\r\n      color: $color;\r\n      border-bottom: 1px solid $color;\r\n    }\r\n  }\r\n\r\n  .tabList {\r\n    background-color: #f5f5f5;\r\n  }\r\n\r\n  .tabBody {\r\n    display: flex;\r\n    align-items: start;\r\n    height: 350px;\r\n  }\r\n\r\n  .tabLiftBox {\r\n    width: 35%;\r\n    height: 350px;\r\n    overflow-y: scroll;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .tabLiftList {\r\n    li {\r\n      box-sizing: border-box;\r\n      padding: 0 15px 0 10px;\r\n      height: 44px;\r\n      line-height: 44px;\r\n      font-size: 14px;\r\n      color: #777;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n\r\n    .active {\r\n      color: $color;\r\n      background-color: #f5f5f5;\r\n    }\r\n  }\r\n\r\n  .tabRightBox {\r\n    flex: 1;\r\n    height: 350px;\r\n    overflow-y: scroll;\r\n    background-color: #f5f5f5;\r\n  }\r\n\r\n  .tabRightList {\r\n    li {\r\n      box-sizing: border-box;\r\n      padding: 0 10px 0 20px;\r\n      height: 44px;\r\n      line-height: 44px;\r\n      font-size: 14px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n\r\n    .active {\r\n      position: relative;\r\n      > span {\r\n        color: $color !important;\r\n      }\r\n    }\r\n\r\n    .active::after {\r\n      content: \"√\";\r\n      display: inline-block;\r\n      width: 10px;\r\n      height: 10px;\r\n      color: $color;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 5px;\r\n    }\r\n\r\n    span:last-child {\r\n      color: #777;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n}\r\n\r\n.brand {\r\n  overflow-y: scroll;\r\n  height: 100%;\r\n\r\n  .brandItem {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    box-sizing: border-box;\r\n    padding: 0 25px 0 30px;\r\n    height: 44px;\r\n    line-height: 44px;\r\n    font-size: 14px;\r\n    border-bottom: 1px solid $borderColor;\r\n\r\n    span:last-child {\r\n      color: #777;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n\r\n  .active {\r\n    position: relative;\r\n    > span {\r\n      color: $color !important;\r\n    }\r\n  }\r\n\r\n  .active::after {\r\n    content: \"√\";\r\n    display: inline-block;\r\n    width: 10px;\r\n    height: 10px;\r\n    color: $color;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 15px;\r\n  }\r\n}\r\n\r\n.feature {\r\n  position: relative;\r\n  height: 100%;\r\n\r\n  .featureBox{\r\n    height: calc(100% - 60px);\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  h3 {\r\n    font-weight: normal;\r\n    font-size: 16px;\r\n    color: #777;\r\n    padding: 10px 0 10px 15px;\r\n  }\r\n\r\n  ul {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin: 0 15px;\r\n  }\r\n\r\n  li {\r\n    width: 75px;\r\n    height: 35px;\r\n    line-height: 35px;\r\n    text-align: center;\r\n    box-sizing: border-box;\r\n    color: #777;\r\n    border: 1px solid $borderColor;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    font-size: 13px;\r\n    border-radius: 5px;\r\n\r\n    &:not(:nth-child(4n)) {\r\n      margin-right: 10px;\r\n    }\r\n\r\n    &:not(:nth-child(-n + 4)) {\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n\r\n  .hall{\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .active {\r\n    color: $color;\r\n    border: 1px solid $color;\r\n    background-color: rgba($color: $color, $alpha: 0.1);\r\n  }\r\n\r\n  .btnBox {\r\n    height: 60px;\r\n    width: 100%;\r\n    background-color: #fafafa;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding: 0 15px;\r\n    border-top: 1px solid $borderColor;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    >div{\r\n        padding: 7px 25px;\r\n        border: 1px solid $borderColor;\r\n        border-radius: 5px;\r\n    }\r\n\r\n    .confirm{\r\n      background-color: $color;\r\n      color: #fff;\r\n      border: 1px solid $color;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-cinemanav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-cinemanav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comp-cinemanav.vue?vue&type=template&id=078a0888&scoped=true&\"\nimport script from \"./comp-cinemanav.vue?vue&type=script&lang=js&\"\nexport * from \"./comp-cinemanav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comp-cinemanav.vue?vue&type=style&index=0&id=078a0888&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"078a0888\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ci_item\"},[_c('div',{staticClass:\"ci_title\"},[_c('h3',{staticClass:\"ci_name\"},[_vm._v(_vm._s(_vm.citem.title))]),_c('span',[_c('span',[_vm._v(_vm._s(_vm.citem.price.n))]),_vm._v(_vm._s(\" \" + _vm.citem.price.q))])]),_c('div',{staticClass:\"ci_info\"},[_c('p',{staticClass:\"ci_address\"},[_vm._v(_vm._s(_vm.citem.location))]),_c('span',{staticClass:\"ci_distance\"},[_vm._v(_vm._s(_vm.citem.distance))])]),(_vm.citem.services.length)?_c('div',{staticClass:\"ci_tab\"},_vm._l((_vm.citem.services),function(item,index){return _c('i',{key:index,class:item.code},[_vm._v(_vm._s(item.text))])}),0):_vm._e(),(_vm.citem.discount.length)?_c('div',{staticClass:\"ci_tip\"},[_vm._v(\" \"+_vm._s(_vm.citem.discount[0].text)+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ci_item\">\r\n    <div class=\"ci_title\">\r\n      <h3 class=\"ci_name\">{{ citem.title }}</h3>\r\n      <span><span>{{ citem.price.n }}</span>{{ \" \" + citem.price.q }}</span>\r\n    </div>\r\n    <div class=\"ci_info\">\r\n      <p class=\"ci_address\">{{ citem.location }}</p>\r\n      <span class=\"ci_distance\">{{ citem.distance }}</span>\r\n    </div>\r\n    <div class=\"ci_tab\" v-if=\"citem.services.length\">\r\n      <i\r\n        v-for=\"(item, index) in citem.services\"\r\n        :key=\"index\"\r\n        :class=\"item.code\"\r\n        >{{ item.text }}</i\r\n      >\r\n    </div>\r\n    <div class=\"ci_tip\" v-if=\"citem.discount.length\">\r\n      {{ citem.discount[0].text }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"citem\"],\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n@import \"../assets/common/variable.scss\";\r\n.ci_item {\r\n  background-color: #fff;\r\n  padding: 15px;\r\n  border-bottom: 1px solid $borderColor;\r\n\r\n  .ci_title{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .ci_name {\r\n    display: inline-block;\r\n    font-weight: normal;\r\n    font-size: 16px;\r\n    max-width: 280px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .ci_name + span {\r\n    font-size: 12px;\r\n    color: $color4;\r\n    margin-left: 5px;\r\n    width: 70px;\r\n    text-align: right;\r\n\r\n    span {\r\n      font-size: 18px;\r\n    }\r\n  }\r\n\r\n  .ci_info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    color: #666;\r\n    margin-top: 5px;\r\n  }\r\n\r\n  .ci_address {\r\n    font-size: 14px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .ci_distance {\r\n    font-size: 13px;\r\n  }\r\n\r\n  .ci_tab {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n\r\n    i {\r\n      font-size: 12px;\r\n      font-style: normal;\r\n      border-radius: 2px;\r\n      padding: 0 2px;\r\n      margin: 5px 5px 0 0;\r\n    }\r\n  }\r\n\r\n  .ci_tip {\r\n    font-size: 12px;\r\n    color: #999;\r\n    margin-top: 8px;\r\n  }\r\n\r\n  .endorse,\r\n  .allowRefund,\r\n  .hallType {\r\n    color: $color;\r\n    border: 1px solid $color;\r\n  }\r\n\r\n  .vipTag,\r\n  .snack {\r\n    color: $color4;\r\n    border: 1px solid $color4;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-cinemacard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-cinemacard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comp-cinemacard.vue?vue&type=template&id=b3a844b4&\"\nimport script from \"./comp-cinemacard.vue?vue&type=script&lang=js&\"\nexport * from \"./comp-cinemacard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comp-cinemacard.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cinema\" ref=\"cinema\">\r\n    <comp-cinemanav :cid=\"cityId\" @get-data=\"getChildData\"></comp-cinemanav>\r\n    <div class=\"cinemaList\" v-if=\"isShow\">\r\n      <comp-cinemacard\r\n        v-for=\"item in cinemaList\"\r\n        :key=\"item.cinemaId\"\r\n        :citem=\"item\"\r\n        @click.native=\"toCinemaPage(item.cinemaId)\"\r\n      ></comp-cinemacard>\r\n      <div class=\"more\">\r\n          <comp-loadinganimate v-if=\"moreTip\" :wah=\"50\"></comp-loadinganimate>\r\n          <span v-if=\"!moreTip\">没有更多了/(ㄒoㄒ)/~~</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"loadingBox\" v-if=\"isLoadingShow\">\r\n        <comp-loadinganimate :wah=\"80\"></comp-loadinganimate>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CompCinemanav from \"@/components/comp-cinemanav.vue\";\r\nimport CompCinemacard from \"@/components/comp-cinemacard.vue\";\r\nimport CompLoadinganimate from '@/components/comp-loadinganimate.vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      // -1表示全部\r\n      limit: 10,\r\n      cityId: 1,\r\n      offset: 0,\r\n      day: \"2021-12-23\", // 当天日期\r\n      hallType: -1, // 影厅类型\r\n      brandId: -1, // 品牌\r\n      serviceId: -1, // 影院服务\r\n      districtId: -1, // 行政区\r\n      areaId: -1, // 行政区二级地区\r\n      lineId: -1, // 地铁线路\r\n      stationId: -1, // 地铁车站\r\n\r\n      cinemaList: [],\r\n      moreTip: true,\r\n      isMore: true,\r\n      isLoadingShow: false,\r\n      isShow: true,\r\n    };\r\n  },\r\n  components: {\r\n    CompCinemanav,\r\n    CompCinemacard,\r\n    CompLoadinganimate,\r\n  },\r\n  methods: {\r\n    // 获取电影院数据\r\n    getLocalCinema() {\r\n      this.isShow = false;\r\n      this.isLoadingShow = true;\r\n      axios\r\n        .get(\"/index/moreCinemas\", {\r\n          params: {\r\n            limit: this.limit,\r\n            cityId: this.cityId,\r\n            day: this.day,\r\n            hallType: this.hallType,\r\n            brandId: this.brandId,\r\n            serviceId: this.serviceId,\r\n            districtId: this.districtId,\r\n            areaId: this.areaId,\r\n            lineId: this.lineId,\r\n            stationId: this.stationId,\r\n            updateShowDay: true,\r\n            offset: this.offset,\r\n          },\r\n        })\r\n        .then((data) => {\r\n          if (data.status == 200) {\r\n            this.isShow = true;\r\n            this.isLoadingShow = false;\r\n            this.cinemaList = data.data;\r\n          }\r\n        });\r\n    },\r\n    // 获取更多电影院数据\r\n    getMoreCinema() {\r\n      if (this.isMore) {\r\n        this.isMore = false;\r\n      axios\r\n        .get(\"/index/moreCinemas\", {\r\n          params: {\r\n            limit: this.limit,\r\n            cityId: this.cityId,\r\n            day: this.day,\r\n            hallType: this.hallType,\r\n            brandId: this.brandId,\r\n            serviceId: this.serviceId,\r\n            districtId: this.districtId,\r\n            areaId: this.areaId,\r\n            lineId: this.lineId,\r\n            stationId: this.stationId,\r\n            updateShowDay: true,\r\n            offset: this.offset,\r\n          },\r\n        })\r\n        .then((data) => {\r\n          if (data.status == 200) {\r\n            this.isMore = true;\r\n            this.cinemaList = [...this.cinemaList,...data.data];\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 拉到底部监听\r\n    handleScroll() {\r\n      this.$nextTick(() => {\r\n        if (this.$refs.cinema) {\r\n          let ch = this.$refs.cinema.clientHeight;\r\n          let st = this.$refs.cinema.scrollTop;\r\n          let sh = this.$refs.cinema.scrollHeight;\r\n          setTimeout(() => {\r\n            if (ch + st == sh) {\r\n              if (!(this.cinemaList.length % this.limit)) {\r\n                this.moreTip = true;\r\n                this.offset += 10;\r\n                this.getMoreCinema();\r\n              } else {\r\n                this.moreTip = false;\r\n              }\r\n            }\r\n          }, 300);\r\n        }\r\n      });\r\n    },\r\n    getChildData(obj){\r\n      this.districtId = obj.districtId,\r\n      this.lineId = obj.lineId,\r\n      this.stationId = obj.stationId,\r\n      this.hallType = obj.hallType,\r\n      this.brandId = obj.brandId,\r\n      this.serviceId = obj.serviceId,\r\n      this.areaId = obj.areaId,\r\n      this.limit = 10;\r\n      this.getLocalCinema();\r\n    },\r\n    // 获取当天日期\r\n    getDate(){\r\n      let date = new Date();\r\n      this.day = date.getFullYear() +'-'+ (date.getMonth() + 1) +'-'+ date.getDate();\r\n    },\r\n    toCinemaPage(cinemaId){\r\n      this.$router.push({path:'/cinema', query: {cinemaId,ci:this.cityId,}})\r\n    }\r\n  },\r\n  created() {\r\n    this.getDate();\r\n    if(localStorage.getItem(\"localCity\")){\r\n      this.cityId = JSON.parse(localStorage.getItem(\"localCity\")).id;\r\n    } else {\r\n      this.cityId = this.cityId;\r\n    }\r\n    this.getLocalCinema();\r\n  },\r\n  mounted: function () {\r\n    window.addEventListener(\"scroll\", this.handleScroll, true);\r\n  },\r\n  destroyed: function () {\r\n    window.removeEventListener(\"scroll\", this.handleScroll);\r\n  },\r\n  watch: {\r\n    cinemaList(arr){\r\n      if(arr.length < this.limit){\r\n        this.moreTip = false;\r\n      } else {\r\n        this.moreTip = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/common/variable.scss\";\r\n.cinema {\r\n  height: 100%;\r\n  overflow-y: scroll;\r\n  background-color: $borderColor;\r\n  position: relative;\r\n\r\n  > div:first-child {\r\n    position: fixed;\r\n    width: 100%;\r\n    left: 0;\r\n  }\r\n}\r\n.cinemaList {\r\n  padding-top: 40px;\r\n  width: 100%;\r\n\r\n  .more {\r\n    display: flex;\r\n    padding: 10px 0;\r\n    margin-top: 10px;\r\n    background-color: #fff;\r\n    span{\r\n      height: 50px;\r\n      line-height: 50px;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n.loadingBox {\r\n  position: absolute;\r\n  width: 100%;\r\n  left: 0;\r\n  top: calc(50% - 80px / 2);\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cinema.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cinema.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cinema.vue?vue&type=template&id=354b62c9&scoped=true&\"\nimport script from \"./Cinema.vue?vue&type=script&lang=js&\"\nexport * from \"./Cinema.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cinema.vue?vue&type=style&index=0&id=354b62c9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354b62c9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-cinemacard.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comp-cinemanav.vue?vue&type=style&index=0&id=078a0888&lang=scss&scoped=true&\""],"sourceRoot":""}